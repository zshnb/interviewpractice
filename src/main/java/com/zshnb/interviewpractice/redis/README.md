### redis分布式锁
- 加锁。通过redis的setnx with expire，当指定key不存在时才可以设置值，同时指定过期时间，一方面防止死锁
另一方面，使得加锁和过期属于原子操作
- 解锁。在业务代码里加锁后，可能出现第一个线程业务代码执行时间超过锁过期时间，导致锁过期后被另一个线程持有，等第一个
线程执行完释放锁的时候，就会出现把第二个线程占有的锁释放，导致并发混乱。可以在加锁的时候为key设置一个唯一值，释放锁的
时候判断该锁是不是自己的，如果不是自己的就不要释放，同时可以设置一个定时器，为即将过期的锁延长过期时间